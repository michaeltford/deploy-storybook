import{j as i}from"./index-BiBgeh3u.js";import{r as e}from"./iframe-mGP4b_Fh.js";import{O as M,h as N}from"./BgsyX5QL9OLy0DN3-CLQ3UbdE.js";import{k as n,K as R}from"./index-CvKDCtrJ.js";import{B as z,F as A,T as J,b as O,g as y}from"./index-CdE0ylvR.js";import"./index-DTwpo8e8.js";import"./preload-helper-PPVm8Dsz.js";import"./index-CmvF348R.js";import"./index-CXJVXQGg.js";import"./Tooltip-CXxmTuYg.js";import"./client-BMu68Vok.js";/**
 * @license @sheetxl/utils-mui - Utilities MUI - Utilities for MUI Components needed for all SheetXL components. - v0.7.26
 *
 * (C) 2025-present SheetXL Inc. & Michael T. Ford
 * License: The license can be found at https://www.sheetxl.com/license.
 */const W=["Input"],et=e.memo(e.forwardRef((F,T)=>{const{initialValue:w="",onOption:v,onValidateOption:p,onInput:l,onValidateInput:s,onDone:u,propsInput:c,inputLabel:I,inputType:S,inputPlaceHolder:b,options:m=W,autoFocusSel:j=".autoFocus",cancelOption:d,defaultOption:g=m?.[0],...k}=F,[C,B]=e.useState(!1),[o,V]=e.useState(w),[D,K]=e.useState(""),[P,$]=e.useState(!0),r=n(async(t,a)=>{if(!s)return!0;const x=await s?.(t,a);K(x?.message??"");const h=x?.valid??!0;return $(h),h},[s]),f=n(async t=>{l?.(o,t)},[o,l,u,v,d,g]),E=n(async t=>{t.keyCode===R.Enter&&await r?.(o,null)},[o,f]),H=n(t=>{V(t.target.value),r?.(t.target.value,null)},[p]),L=n(async t=>{let a=await r(o,t);try{a!==!1&&(a=await r(o,t))}catch{}return a??!0},[o,p]);return i.jsx(M,{options:m,onDone:u,onOption:(t,a)=>{a||f(t)},onValidateOption:L,cancelOption:d,defaultOption:g,autoFocusSel:j,ref:T,...k,children:i.jsx(z,{sx:{paddingTop:t=>t.spacing(1),paddingBottom:t=>t.spacing(0)},children:i.jsx(A,{sx:{paddingTop:t=>t.spacing(1.5),minWidth:135,width:"100%"},size:"small",children:i.jsx(J,{onFocus:t=>{C||t.target?.select(),B(!0)},type:S,label:I,helperText:D||" ",sx:{width:"100%","& .MuiFormHelperText-root":{marginTop:t=>t.spacing(.5),color:P?void 0:"error.main"}},slotProps:{inputLabel:{shrink:!0},htmlInput:{placeholder:b,spellCheck:!1,autoComplete:"off",...c,className:N("autoFocus",c?.className),sx:{paddingTop:t=>t.spacing(1.25),paddingBottom:t=>t.spacing(.75),backgroundImage:`linear-gradient(${O("#fff",y(5))}, ${O("#fff",y(5))})`}}},value:o,onChange:H,onKeyDown:E,onContextMenu:t=>{t.stopPropagation()}})})})})}));export{et as default};
